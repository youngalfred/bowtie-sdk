<main id="container">
  <h1>Angular Bowtie SDK Demo</h1>
  <div *ngIf="checkingForStoredApplication">...Checking for a stored application to resume...</div>
  <div *ngIf="!authorizedToAccessApp">
    <authenticate [submit]="authenticate"></authenticate>
  </div>
  <div *ngIf="!checkingForStoredApplication && authorizedToAccessApp">
    <renderer
      *ngFor="let fg of makeFieldGroups(portfolio); index as i; trackBy: trackBy"
      [node]="fg"
      depth="0"
    ></renderer>
    <div class="flex">
      <button *ngIf="!portfolio.valid" (click)="invalidFieldsAreHighlighted = true">
        Highlight Invalid Fields
      </button>
      <button id="ya-submit-button" [disabled]="!portfolio.valid" (click)="submit()">Submit</button>
      <button *ngIf="isPortolioSubmitted" (click)="newApplication()">New Application</button>
    </div>

    <div id="success-message" *ngIf="isPortolioSubmitted">
      Your application has successfully been sent
    </div>
  </div>
</main>
